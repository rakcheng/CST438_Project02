<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <meta charset="ISO-8859-1">
    <title>Change Username and Password</title>
    <link rel="stylesheet"
          href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
          crossorigin="anonymous">

</head>
<body>
<!--The boxes aren't formmated well I'll look into making it nice
Will also take a look at making the formats match up with other
pages as well, going to remake most of this since I wasn't using bootstrap -->

<!-- This all the new code old code will be saved onto another file on this laptop  -->
<nav class="navbar navbar-inverse navbar-fixed-top"> <!--This adds a black bar up top -->
 <div class ="container">
  <div class="navbar-header">
   <button type="button" class="navbar-toggle collapsed"
      data-toggle="collapse" data-target="#navbar" aria-expanded="false"
      aria-controls="navbar">">
       <span class="sr-only">Toggle navigation</span> <span
               class="icon-bar"></span> <span class="icon-bar"></span> <span
               class="icon-bar"></span>
   </button>
      <a class="navbar-brand" href="#" th:href="@{/}">Home</a>
  </div>
  <div id="navbar" class="collapse navbar-collapse">
    <ul class="nav navbar-nav">
     <li sec:authorize="isAuthenticated()"><a th:href="@{/logout}">Logout</a></li>
    </ul>
   </div>
 </div>
</nav>
<!-- This creates the header on the top of the page with the title fairly simple -->

<br>
<br>
<div class = "container">
    <div class = "row">
        <div class = "col-md-6 col-md-offset-3">

            <h1> Change Username & Password </h1>
            <form th:action="@{/login}" method="post">
            <!-- error messages -->
                <div th:if="${param.error}">
                    <div class="alert alert-danger">Username taken or passwords don't match.
                    </div>
                </div>

                <!-- Username form -->
                <div class = "form-group">
                    <label for ="username"> Username </label> :
                    <input type="text" class = "form-control" id ="username" name = "username"
                           placeholder="Enter New Username" autofocus="autofocus">
                </div>

                <!-- Both password forms -->
                <div class="form-group">
                    <label for="password">Password</label>: <input type="password"
                                                                   id="password" name="password" class="form-control"
                                                                   placeholder="Enter New Password" />
                </div>

                <div class="form-group">
                    <label for="password">Password</label>: <input type="password"
                                                                   id="password2" name="password" class="form-control"
                                                                   placeholder="Enter New Password Again" />
                </div>

                <!-- Two buttons both will lead to login on success while change button will return here on error -->
                <div class="form-group">
                        <div class="col-sm-6 col-sm-offset-3">
                            <table>
                                <tr>
                                    <td><input type="submit" name="change-submit" id="change-submit"
                                               class="form-control btn btn-primary text-center" value="Change Info" /></td>
                                    <td><input type = "submit" name ="back-submit" id="back-submit"
                                               class ="form-control btn btn-primary text-center" value="Back"/></td>
                                </tr>
                        </div>
                </div>
            </form>
        </div>
    </div>
</div>
</body>
</html>